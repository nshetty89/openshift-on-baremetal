---
- hosts: all
  tasks:
  - name: Register the nodes to RH Subscription
    redhat_subscription:
      state: present
      username: rhn-gps-smikkili
      password: Hemanth33003
      pool_ids: 8a85f98c60c2c2b40160c32445b41b29

  - name: Disable  OpenShift Repositories
    command: "subscription-manager repos --disable *"

  - name: Enable  OpenShift Repositories
    command: "subscription-manager repos --enable {{ item }}"
    with_items:
    - rhel-7-server-rpms
    - rhel-7-server-extras-rpms
    - rhel-7-server-ose-3.9-rpms
    - rhel-7-fast-datapath-rpms
    - rhel-7-server-ansible-2.4-rpms
